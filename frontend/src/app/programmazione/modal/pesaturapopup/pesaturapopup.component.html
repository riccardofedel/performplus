<div class="modal-header">
  <h5 class="modal-title" id="exampleModalLabel">
    <span>{{'modifica pesatura'|translate}}</span>
  </h5>
  <button type="button" class="close" (click)="activeModal.close()" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">

  <span class="loading" *ngIf="loading">
    <div class="spinner-border" role="status">
      <span class="sr-only"></span>
    </div>
  </span>

  <div class="" *ngIf="!loading && creaForm">

    <form [formGroup]="creaForm" (ngSubmit)="onSubmit()">

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-control-placeholder-select" for="livelloComplessita">{{"livello complessita"|translate}}</label>

          <ng-select [ngClass]="{ 'is-invalid': !f.livelloComplessita.value }" id="livelloComplessita" [multiple]="false"
            [items]="livelliComplessita" [searchable]="false" [clearable]="false" bindLabel="descrizione" bindValue="codice"
            formControlName="livelloComplessita" placeholder=" ">
            <ng-template ng-option-tmp let-item="item">
              <label>{{item.descrizione}}</label>
            </ng-template>
            <ng-template ng-label-tmp let-item="item">
              <span>{{item.descrizione}}</span>
            </ng-template>
          </ng-select>

        </div>
        <div class="col-md-6 mb-3">
          <span *ngIf="pesatura?.pesoLivelloStrategicita">
            ({{pesatura?.pesoLivelloStrategicita}})
            </span>
        </div>


        <div class="col-md-6 mb-3">
          <label class="form-control-placeholder-select" for="livelloStrategicita">{{"livello strategicita"|translate}}</label>

          <ng-select [ngClass]="{ 'is-invalid': !f.livelloStrategicita.value }" id="livelloStrategicita" [multiple]="false"
            [items]="livelliStrategicita" [searchable]="false" [clearable]="false" bindLabel="descrizione" bindValue="codice"
            formControlName="livelloStrategicita" placeholder=" ">
            <ng-template ng-option-tmp let-item="item">
              <label>{{item.descrizione}}</label>
            </ng-template>
            <ng-template ng-label-tmp let-item="item">
              <span>{{item.descrizione}}</span>
            </ng-template>
          </ng-select>

        </div>
        <div class="col-md-6 mb-3">
          <span *ngIf="pesatura?.pesoLivelloStrategicita">
          ({{pesatura?.pesoLivelloStrategicita}})
        </span>

        </div>




        <div class="col-md-6 mb-3" *ngIf="tipoNodo!==TipoNodo.Obiettivo">
          <label class="form-control-placeholder-select" for="tipologia">{{"tipologia"|translate}}</label>

          <ng-select [ngClass]="{ 'is-invalid': !f.tipologia.value }" id="tipologia" [multiple]="false"
            [items]="tipologie" [searchable]="false" [clearable]="false" bindLabel="descrizione" bindValue="codice"
            formControlName="tipologia" placeholder=" ">
            <ng-template ng-option-tmp let-item="item">
              <label>{{item.descrizione}}</label>
            </ng-template>
            <ng-template ng-label-tmp let-item="item">
              <span>{{item.descrizione}}</span>
            </ng-template>
          </ng-select>

        </div>
        <div class="col-md-6 mb-3">
            {{"peso"|translate}}: {{pesatura?.peso}}
        </div>

        <div class="col-md-12 mb-3 text-right">
          
          <a (click)="activeModal.close()" type="button" class="btn btn-secondary">{{'annulla'|translate}}</a>
          <button [disabled]="creaForm.invalid" class="btn btn-primary spaceleft10">{{'salva'|translate}}</button>
        </div>

      </div>
    </form>
  </div>




</div>
