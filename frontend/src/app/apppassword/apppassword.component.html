<div class="modal-header">
  <h5 class="modal-title" id="exampleModalLabel">
    <span>{{('cambia password')|translate}}</span>
  </h5>
  <button type="button" class="close" (click)="activeModal.close()" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">

  <span class="loading" *ngIf="loading">
    <div class="spinner-border" ruolo="status">
      <span class="sr-only"></span>
    </div>
  </span>

  <div class="" *ngIf="!loading && passwordForm">

    <form *ngIf="userId" [formGroup]="passwordForm" (ngSubmit)="onSubmitPassword()">

      <div class="row">
        <div class="col-md-12 mb-3">
          <label for="password">{{'vecchiaPassword'|translate}} *</label>
          <input  minlength="5"  id="password" type="password" class="form-control form-control-border" formControlName="password"
            placeholder="{{'password'|translate}}" [ngClass]="{ 'is-invalid': f2.password.errors }">
        </div>

        <div class="col-md-12 mb-3">
          <label for="nuovaPassword">{{'nuovaPassword'|translate}} {{'min 5 caratteri'|translate}} *</label>
          <div class="input-group">
          <input [type]="fieldTextType ? 'text' : 'password'"  minlength="5" id="nuovaPassword" class="form-control form-control-border" formControlName="nuovaPassword"
            placeholder="{{'nuovaPassword'|translate}}" [ngClass]="{ 'is-invalid': f2.nuovaPassword.errors }">
            <div class="input-group-append"                   (click)="toggleFieldTextType()">
              <button class="btn btn-primary">
                <i-bs name="eye" *ngIf="fieldTextType" width="1.5rem" height="1.5rem"></i-bs>
                <i-bs name="eye-slash" *ngIf="!fieldTextType" width="1.5rem" height="1.5rem"></i-bs>
              </button>
            </div>
          </div>
        </div>
        <div class="col-md-12 mb-3">
          <label for="passwordRepeat">{{'passwordRepeat'|translate}} {{'min 5 caratteri'|translate}} *</label>
          <input [type]="fieldTextType ? 'text' : 'password'"   minlength="5" id="passwordRepeat" type="password" class="form-control form-control-border" formControlName="passwordRepeat"
            placeholder="{{'passwordRepeat'|translate}}" [ngClass]="{ 'is-invalid': f2.passwordRepeat.errors || f2.passwordRepeat.value!=f2.nuovaPassword.value }">
        </div>
       <div class="col-md-12 mb-3 text-right">
          <button [disabled]="passwordForm.invalid || f2.passwordRepeat.value!=f2.nuovaPassword.value" class="btn btn-primary">{{'modifica password'|translate}}</button>&nbsp;
        </div>
      </div>
    </form>






</div>
